From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Allink <arclicious@vivaldi.net>
Date: Fri, 2 Jun 2023 20:42:02 +0100
Subject: [PATCH] Add command block player edit event


diff --git a/src/main/java/me/totalfreedom/scissors/event/block/CommandBlockPlayerEditEvent.java b/src/main/java/me/totalfreedom/scissors/event/block/CommandBlockPlayerEditEvent.java
new file mode 100644
index 0000000000000000000000000000000000000000..ce6f6cbbdc82dc0b4e9c9d1f35fa79465dd97867
--- /dev/null
+++ b/src/main/java/me/totalfreedom/scissors/event/block/CommandBlockPlayerEditEvent.java
@@ -0,0 +1,72 @@
+package me.totalfreedom.scissors.event.block;
+
+import org.bukkit.block.CommandBlock;
+import org.bukkit.entity.Player;
+import org.bukkit.event.Cancellable;
+import org.bukkit.event.Event;
+import org.bukkit.event.HandlerList;
+import org.jetbrains.annotations.NotNull;
+
+/**
+ * Called when a command block is modified by a player
+ */
+public class CommandBlockPlayerEditEvent extends Event implements Cancellable
+{
+    private static final HandlerList handlers = new HandlerList();
+    private boolean cancelled;
+    private final Player player;
+    private final String oldCommand;
+    private String newCommand;
+    private final CommandBlock commandBlock;
+
+    public CommandBlockPlayerEditEvent(Player player, String oldCommand, String newCommand, CommandBlock commandBlock)
+    {
+        this.player = player;
+        this.oldCommand = oldCommand;
+        this.newCommand = newCommand;
+        this.commandBlock = commandBlock;
+    }
+
+    public String getNewCommand()
+    {
+        return this.newCommand;
+    }
+
+    public String getOldCommand()
+    {
+        return this.oldCommand;
+    }
+
+    public void setNewCommand(final String newCommand)
+    {
+        this.newCommand = newCommand;
+    }
+
+    public Player getPlayer()
+    {
+        return this.player;
+    }
+
+    public CommandBlock getCommandBlock()
+    {
+        return this.commandBlock;
+    }
+
+    @Override
+    public boolean isCancelled()
+    {
+        return this.cancelled;
+    }
+
+    @Override
+    public void setCancelled(boolean cancel)
+    {
+        this.cancelled = cancel;
+    }
+
+    @Override
+    public @NotNull HandlerList getHandlers()
+    {
+        return handlers;
+    }
+}
diff --git a/src/main/java/me/totalfreedom/scissors/event/block/CommandMinecartPlayerEditEvent.java b/src/main/java/me/totalfreedom/scissors/event/block/CommandMinecartPlayerEditEvent.java
new file mode 100644
index 0000000000000000000000000000000000000000..655814b19c1e2e8b25e133190664a250867ad6f2
--- /dev/null
+++ b/src/main/java/me/totalfreedom/scissors/event/block/CommandMinecartPlayerEditEvent.java
@@ -0,0 +1,73 @@
+package me.totalfreedom.scissors.event.block;
+
+import org.bukkit.block.CommandBlock;
+import org.bukkit.entity.Player;
+import org.bukkit.entity.minecart.CommandMinecart;
+import org.bukkit.event.Cancellable;
+import org.bukkit.event.Event;
+import org.bukkit.event.HandlerList;
+import org.jetbrains.annotations.NotNull;
+
+/**
+ * Called when a command block is modified by a player
+ */
+public class CommandMinecartPlayerEditEvent extends Event implements Cancellable
+{
+    private static final HandlerList handlers = new HandlerList();
+    private boolean cancelled;
+    private final Player player;
+    private final String oldCommand;
+    private String newCommand;
+    private final CommandMinecart commandMinecart;
+
+    public CommandMinecartPlayerEditEvent(Player player, String oldCommand, String newCommand, CommandMinecart commandMinecart)
+    {
+        this.player = player;
+        this.oldCommand = oldCommand;
+        this.newCommand = newCommand;
+        this.commandMinecart = commandMinecart;
+    }
+
+    public String getNewCommand()
+    {
+        return this.newCommand;
+    }
+
+    public String getOldCommand()
+    {
+        return this.oldCommand;
+    }
+
+    public void setNewCommand(final String newCommand)
+    {
+        this.newCommand = newCommand;
+    }
+
+    public Player getPlayer()
+    {
+        return this.player;
+    }
+
+    public CommandMinecart getCommandMinecart()
+    {
+        return this.commandMinecart;
+    }
+
+    @Override
+    public boolean isCancelled()
+    {
+        return this.cancelled;
+    }
+
+    @Override
+    public void setCancelled(boolean cancel)
+    {
+        this.cancelled = cancel;
+    }
+
+    @Override
+    public @NotNull HandlerList getHandlers()
+    {
+        return handlers;
+    }
+}
